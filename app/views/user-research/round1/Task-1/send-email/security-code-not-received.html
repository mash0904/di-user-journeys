{% extends "layouts/main.html" %}

{% block pageTitle %}
You did not get a security code
{% endblock %}

{% block header %}
  <!-- Blank header with no service name for the start page -->
  {{ govukHeader() }}
{% endblock %}

{% block beforeContent %}
<div class="govuk-phase-banner">
  <p class="govuk-phase-banner__content">
    <strong class="govuk-tag govuk-phase-banner__content__tag">
      beta
    </strong>
    <span class="govuk-phase-banner__text">
      This is a new service – your <a class="govuk-link" href="#">feedback (opens in new tab)</a> will help us to improve it.
    </span>
  </p>
</div>
  <a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">You did not get a security code</h1>

      <form action="/user-research/round1/Task-1/send-email/confirmation" method="post" novalidate data-validate='my-form-validation'>

        {% from "govuk/components/radios/macro.njk" import govukRadios %}

{{ govukRadios({
  idPrefix: "How-code-was-sent",
  name: "How-code-was-sent",
  fieldset: {
    legend: {
      text: "How did you expect to get the security code?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--m"
    }
  },
  items: [
    {
      value: "Email",
      text: "Email"
    },
    {
      value: "Text message to a Uk phone number",
      text: "Text message to a UK phone number"
    },
    {
      value: "Text message to a phone number from another country",
      text: "Text message to a phone number from another country"
    },
    {
      value: "Authenticator app",
      text: "Authenticator app"
    }
  ]
}) }}

        {% from "govuk/components/textarea/macro.njk" import govukTextarea %}

        {{ govukTextarea({
          name: "What-happened",
          id: "What-happened",
          label: {
            text: "Anything else you want to tell us",
            classes: "govuk-label--s",
            isPageHeading: true
          },
          hint: {
            text: "For example, if you want to add more detail or give us feedback"
          }
        }) }}
        {% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

        {{ govukWarningText({
          text: "Do not include personal or financial information, for example your National Insurance number or credit card details.",
          iconFallbackText: "Warning"
        }) }}

        {% from "govuk/components/radios/macro.njk" import govukRadios %}
        {% from "govuk/components/input/macro.njk" import govukInput %}

        {% set emailHtml %}
        {{ govukInput({
          id: "Yes-by-email",
          name: "Yes-by-email",
          type: "email",
          spellcheck: false,
          classes: "govuk-!-width-two-thirds",
          label: {
            text: "Email address"
          },
          hint: {
            text: "We will only use this to reply to your message"
          }
        }) }}
        {{ govukInput({
          id: "name",
          name: "name",
          type: "text",
          spellcheck: false,
          classes: "govuk-!-width-two-thirds",
          label: {
            text: "Name (Optional)"
          }
        }) }}
        <br>
        <p class="govuk-body">Read our <a href="#" class="govuk-link" rel="noreferrer noopener">privacy notice</a> for more information on how we use your personal information.</p>
  {% endset -%}

        {{ govukRadios({
          idPrefix: "contact-by-email",
          name: "contact-by-email",
          fieldset: {
            legend: {
              text: "Can we reply to you by email?",
              isPageHeading: true,
              classes: "govuk-fieldset__legend--m"
            }
          },
          items: [
            {
              value: "Yes",
              text: "Yes",
              conditional: {
                html: emailHtml
              }
            },
            {
              value: "No",
              text: "No",
              conditional: {
                html: phoneHtml
              }
            }
          ]
        }) }}

        <button class="govuk-button" data-module="govuk-button">
          Send message
        </button>

      </form>

      <script type="application/json" id="my-form-validation">
        {
          "How-code-was-sent": {
            "presence": {
              "message": "^Select how you expected to get the security code"
            }
       },
            "What-happened": {
            "presence": {
            "message": "^Enter more detail"
          }
     },
          "contact-by-email": {
          "presence": {
          "message": "^Select yes if we can reply to you by email"
          }
        }
      }
    </script>
    </div>
    </div>

{% endblock %}

{% block footer %}

<footer class="govuk-footer " role="contentinfo">
  <div class="govuk-width-container ">
    
      <div class="govuk-footer__navigation">
        
         
        
         
    
    <div class="govuk-footer__meta">
      <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">
        
          <h2 class="govuk-visually-hidden">Support links</h2>
          
            <ul class="govuk-footer__inline-list">

                             <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="/user-research/round1/index">
                    Round 1 research
                  </a>
                </li>
              
                <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="#">
                    Accessibility statement
                  </a>
                </li>
              
                <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="#">
                    Cookies
                  </a>
                </li>
              
                <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="#">
                    Terms and conditions
                  </a>
                </li>

                <li class="govuk-footer__inline-list-item">
                  <a class="govuk-footer__link" href="#">
                    Privacy notice
                  </a>
                </li>
              
            </ul>
          
          
            <div class="govuk-footer__meta-custom">
              Built by the <a href="#" class="govuk-footer__link">Government Digital Service</a>
            </div>
          
        
        <svg aria-hidden="true" focusable="false" class="govuk-footer__licence-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41">
          <path fill="currentColor" d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"></path>
        </svg>
        <span class="govuk-footer__licence-description">
          
            All content is available under the
            <a class="govuk-footer__link" href="#" rel="license">Open Government Licence v3.0</a>, except where otherwise stated
          
        </span>
      </div>
      <div class="govuk-footer__meta-item">
        <a class="govuk-footer__link govuk-footer__copyright-logo" href="#">© Crown copyright</a>
      </div>
    </div>
  </div>
</footer>

{% endblock %}
